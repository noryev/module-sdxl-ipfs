{
  "machine": {
    "cpu": 1000,
    "ram": 100
  },
  "job": {
    "APIVersion": "V1beta1",
    "Spec": {
      "Deal": {
        "Concurrency": 1
      },
      "Docker": {
        "EnvironmentVariables": [
            {{ if .ipfs }}"IPFS={{ .ipfs }}",{{else}}"IPFS=ipfs",{{ end }}
            {{ if .prompt }}"PROMPT={{ .prompt }}",{{else}}"PROMPT=A beautiful landscape with mountains and a lake",{{ end }}
        ],
        "Image": "noryev/sdxl-lightweight-ipfs:latest",
          "Entrypoint": ["python", "/sdxl/run_sdxl.py"]
      },
      "Engine": "Docker",
      "Network": {
        "Type": "None"
      },
      "PublisherSpec": {
        "Type": "IPFS"
      },
      "Resources": {
        "GPU": "1"
      },
      "Timeout": 1800,
      "Verifier": "Noop",
      "outputs": [
        {
          "Name": "outputs",
          "StorageSource": "IPFS",
          "path": "/app"
        }
      ]
    }
  }
}